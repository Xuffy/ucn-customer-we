webpackJsonp([19],{"4vAS":function(e,t,o){var n=o("hHj/");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("8bSs")("2a9e8970",n,!1)},D8cf:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"login-top"}),e._v(" "),o("section",{staticClass:"login-box",attrs:{id:"login-app"}},[e._m(0,!1,!1),e._v(" "),o("div",{staticClass:"login-form"},[o("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[o("FormItem",{attrs:{prop:"username"}},[o("Input",{attrs:{type:"text",placeholder:"您的手机号或用户名"},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}},[o("Icon",{staticStyle:{"font-size":"26px"},attrs:{slot:"prepend",type:"iphone"},slot:"prepend"})],1)],1),e._v(" "),o("FormItem",{attrs:{prop:"password"}},[o("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[o("Icon",{staticStyle:{"font-size":"20px"},attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),o("FormItem",{staticStyle:{"padding-left":"40px","margin-top":"40px"}},[o("Button",{staticStyle:{"background-color":"#f36",width:"100%","border-color":"#f36"},attrs:{type:"success",size:"large",loading:e.loginLoading},on:{click:function(t){e.handleSubmit("formInline")}}},[e._v("登录\n          ")])],1)],1)],1)])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"center"}},[o("i",{staticClass:"logo"}),e._v(" "),o("span",{staticClass:"title"},[e._v("TailorX Store")])])}];n._withStripped=!0;var r={render:n,staticRenderFns:i};t.a=r},"T+/8":function(e,t,o){"use strict";function n(e){s||(o("4vAS"),o("nK3A"))}Object.defineProperty(t,"__esModule",{value:!0});var i=o("rcyc"),r=o("D8cf"),s=!1,a=o("/Xao"),l=n,c=a(i.a,r.a,!1,l,"data-v-211ec51b",null);c.options.__file="src\\views\\login\\index.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),t.default=c.exports},fdn2:function(e,t,o){t=e.exports=o("BkJT")(!1),t.push([e.i,".login-top[data-v-211ec51b]{position:absolute;width:100%;height:398px;background-image:url("+o("qAtO")+");background-position:50%;background-size:cover;z-index:-1}.login-box[data-v-211ec51b]{max-width:500px;width:500px;height:380px;background-color:#fff;position:fixed;top:45%;left:50%;margin-top:-190px;margin-left:-250px;-webkit-box-shadow:0 0 10px rgba(0,0,0,.3);box-shadow:0 0 10px rgba(0,0,0,.3)}.login-box .logo[data-v-211ec51b]{display:inline-block;background-image:url("+o("iQH9")+");width:70px;height:70px;vertical-align:middle;margin:30px 20px 20px 0;background-size:100% 100%}.login-box .title[data-v-211ec51b]{display:inline-block;vertical-align:middle;font-size:30px}.login-form[data-v-211ec51b]{padding-left:45px;padding-right:45px;margin-top:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}",""])},"hHj/":function(e,t,o){t=e.exports=o("BkJT")(!1),t.push([e.i,".login .ivu-input-group-prepend{background-color:#fff;border:none;width:40px;text-align:left}.login .ivu-form-item-content{line-height:40px;height:40px}.login .ivu-input{height:40px;border:none;padding:0;border-radius:0;font-size:14px;margin-bottom:15px;border-bottom:1px solid #e6e6e6}.login .ivu-input:focus{border:none;-webkit-box-shadow:none;box-shadow:none;border-bottom:1px solid #e6e6e6}.login .ivu-input:hover{border-color:none;border-bottom:1px solid #e6e6e6}.login .ivu-form-item-error-tip{left:40px}",""])},nK3A:function(e,t,o){var n=o("fdn2");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("8bSs")("79ee4a24",n,!1)},qAtO:function(e,t,o){e.exports=o.p+"static/img/login-back.e789de2.jpg"},rcyc:function(e,t,o){"use strict";var n=o("2Dkn");t.a={name:"login",data:function(){return{loginLoading:!1,formInline:{username:"",password:""},ruleInline:{username:[{required:!0,message:"请输入用户名",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{type:"string",min:3,message:"密码长度不能小于3位",trigger:"change"}]}}},created:function(){this.onKeyDown(),this.$localStore.clearAll(),this.$sessionStore.clearAll()},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.submitLogin():t.$Message.warning("请输入正确的用户名密码！")})},onKeyDown:function(){var e=this;document.onkeydown=function(t){var o=t||window.event;o&&13===o.keyCode&&e.handleSubmit("formInline")}},submitLogin:function(){var e=this;this.loginLoading=!0,this.ajax.post("/v2/store/user/loginUser",{username:this.formInline.username,password:this.formInline.password},{noAuth:!0}).then(function(t){t.user.storeName=t.storeName,e.$localStore.set("ticket",t.ticket),e.$localStore.set("user",t.user),e.$localStore.set("version",n.a.VERSION),e.$Message.success("登录成功");var o=setTimeout(function(){clearTimeout(o),e.$Message.destroy(),e.$router.push("/")},1e3)}).catch(function(){e.loginLoading=!1})}}}}});