webpackJsonp([40],{V278:function(t,e,a){var i=a("hN0b");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("24265b68",i,!0,{})},gL5j:function(t,e,a){"use strict";function i(t){a("V278")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("v//H"),l=a("gmQO"),n=a("Z0/y"),o=i,r=n(s.a,l.a,!1,o,"data-v-47058093",null);e.default=r.exports},gmQO:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment"},[a("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$db.payment.title.orderOverview.key)+"\n    ")]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"head"},[a("div",[a("span",{staticClass:"text"},[t._v("Status : ")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-radio-button",{attrs:{label:"-1",border:""}},[t._v(t._s(t.$i._baseText.all))]),t._v(" "),a("el-radio-button",{attrs:{label:"1"}},[t._v("已逾期")]),t._v(" "),a("el-radio-button",{attrs:{label:"0"}},[t._v("未逾期")])],1)],1),t._v(" "),a("div",{staticClass:"spe-div"},[a("div",{staticClass:"View"},[a("span",{staticClass:"text"},[t._v("View : ")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini"},model:{value:t.viewByStatus,callback:function(e){t.viewByStatus=e},expression:"viewByStatus"}},[a("el-radio-button",{attrs:{label:"",border:""}},[t._v(t._s(t.$i._baseText.all))]),t._v(" "),a("el-radio-button",{attrs:{label:"30"}},[t._v(t._s(t.$i._baseText.logisticOrder))]),t._v(" "),a("el-radio-button",{attrs:{label:"10"}},[t._v(t._s(t.$i._baseText.purchaseOrder))]),t._v(" "),a("el-radio-button",{attrs:{label:"20"}},[t._v(t._s(t.$i._baseText.qcOrder))])],1)],1),t._v(" "),a("div",{staticClass:"search"},[a("select-search",{staticClass:"search",attrs:{selectHide:!1,searchLoad:t.searchLoad},on:{inputChange:t.getList}})],1),t._v(" "),a("div",{staticClass:"Date"},[a("span",{staticClass:"text"},[t._v("Time : ")]),t._v(" "),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","picker-options":t.dateOptions},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"main"},[a("v-table",{attrs:{data:t.tableDataList,"total-row":t.totalRow,loading:t.tabLoad,buttons:t.setButtons,rowspan:1},on:{action:t.action,"filter-value":t.onFilterValue}})],1)])])},s=[],l={render:i,staticRenderFns:s};e.a=l},hN0b:function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,'.title[data-v-47058093]{font-weight:700;font-size:18px;height:32px;line-height:32px;color:#666;padding:10px 0}.head>div[data-v-47058093]{margin-bottom:10px}.head .text[data-v-47058093]{display:inline-block;width:70px;font-size:14px;color:#999}.spe-div[data-v-47058093]:after{content:"";display:table;clear:both}.spe-div .View[data-v-47058093]{float:left}.spe-div .search[data-v-47058093]{float:right;margin-left:10px}.spe-div .Date[data-v-47058093]{float:right}',""])},"v//H":function(t,e,a){"use strict";(function(t){var i=a("NAAH"),s=a("QGvi");e.a={name:"payment",components:{selectSearch:i.a,VTable:s.a},data:function(){return{status:-1,flag:!0,time:1523959983,pazeSize:[10,20,30,40,50,100],pageTotal:0,searchLoad:!1,viewByStatus:"",date:"",tabLoad:!1,dateOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},tableDataList:[],totalRow:[]}},watch:{status:function(){this.getList()},viewByStatus:function(){this.getList()},date:function(){console.log(this.date)}},methods:{onFilterValue:function(t){console.log(t)},getList:function(t){var e=this;if(console.log(t),this.tabLoad=!0,t){var a={conditions:{orderEntryEndDt:"",orderEntryStartDt:"",orderNoLike:t.key,orderType:this.viewByStatus,overdue:this.status},pn:1,ps:10};this.$ajax.post(this.$apis.post_ledgerPage,a).then(function(t){e.pageTotal=t.tc,e.tabLoad=!1,e.searchLoad=!1,e.tableDataList=e.$getDB(e.$db.payment.table,t.datas,function(t){return t.waitPayment.value=Number(t.planPayAmount.value)-Number(t.actualPayAmount.value),t.waitReceipt.value=Number(t.planReceiveAmount.value)-Number(t.actualReceiveAmount.value),e.$set(e.flag,0===t.waitPayment.value),console.log(e.flag),t}),e.totalRow=e.$getDB(e.$db.payment.table,t.statisticalDatas,function(t){return t.waitPayment.value=Number(t.planPayAmount.value)-Number(t.actualPayAmount.value),t.waitReceipt.value=Number(t.planReceiveAmount.value)-Number(t.actualReceiveAmount.value),"BTC"===t.currencyCode.value?t._totalRow.label="BTC":"HKD"===t.currencyCode.value?t._totalRow.label="HKD":t._totalRow.label="EUR",t})})}else{var i={conditions:{orderEntryEndDt:"",orderEntryStartDt:"",orderNoLike:"",orderType:this.viewByStatus,overdue:this.status},pn:1,ps:10};this.$ajax.post(this.$apis.post_ledgerPage,i).then(function(t){e.pageTotal=t.tc,e.tabLoad=!1,e.searchLoad=!1,e.tableDataList=e.$getDB(e.$db.payment.table,t.datas,function(t){return t.waitPayment.value=Number(t.planPayAmount.value)-Number(t.actualPayAmount.value),t.waitReceipt.value=Number(t.planReceiveAmount.value)-Number(t.actualReceiveAmount.value),e.flag=0===t.waitPayment.value,t}),e.totalRow=e.$getDB(e.$db.payment.table,t.statisticalDatas,function(t){return t.waitPayment.value=Number(t.planPayAmount.value)-Number(t.actualPayAmount.value),t.waitReceipt.value=Number(t.planReceiveAmount.value)-Number(t.actualReceiveAmount.value),t})})}},action:function(t,e){switch(console.log(t),e){case"detail":this.detail(t);break;case"urging payment":this.urgingPayment(t)}},detail:function(t){console.log(t),10==t.orderType.value?this.$router.push({path:"/",query:{}}):(t.orderType.value,this.$router.push({path:"/",query:{}}))},urgingPayment:function(t){console.log(t)},setButtons:function(e){return t.findWhere(e,{key:"waitPayment"}).value+""=="0"?[{label:"urging payment",type:"1",disabled:!0},{label:"detail",type:"2"}]:[{label:"urging payment",type:"1",disabled:!1},{label:"detail",type:"2"}]},handleSizeChange:function(t){this.params.ps=t}},created:function(){this.viewByStatus="",this.getList()}}}).call(e,a("u47Y"))}});