webpackJsonp([18],{"+Mie":function(t,e,a){var n=a("ZOyh");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("8855bcb8",n,!1)},"04QK":function(t,e,a){"use strict";function n(t){r||a("+Mie")}var i=a("ZMJk"),s=a("zQ7w"),r=!1,o=a("/Xao"),d=n,l=o(i.a,s.a,!1,d,"data-v-44ba65cc",null);l.options.__file="src\\components\\common\\image.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=l.exports},"EhW+":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"h1[data-v-08245e56],h2[data-v-08245e56]{font-weight:400}ul[data-v-08245e56]{list-style-type:none;padding:0}li[data-v-08245e56]{display:inline-block;margin:0 10px}a[data-v-08245e56]{color:#42b983}.add-icon[data-v-08245e56]{display:inline-block;width:50px;text-align:right}.add-input[data-v-08245e56]{display:inline-block;border-bottom:1px solid #eee}.add-input input[data-v-08245e56]{width:250px;height:32px;line-height:1.5;padding:4px 7px;font-size:12px;border:none;border-radius:4px;color:#495060;background-color:#fff;background-image:none;position:relative;cursor:text}",""])},R8Jb:function(t,e,a){"use strict";function n(t){r||a("k3hG")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("a47T"),s=a("iZBR"),r=!1,o=a("/Xao"),d=n,l=o(i.a,s.a,!1,d,"data-v-08245e56",null);l.options.__file="src\\views\\designer\\index.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.default=l.exports},ZMJk:function(t,e,a){"use strict";e.a={name:"commonImage",props:{src:{type:String},width:{type:Number,default:0},height:{type:Number,default:0},round:{type:Boolean,default:!1},icon:{type:String,default:"image"},backColor:{type:String,default:"#F4F4F4"},fill:{type:Boolean,default:!0}},data:function(){return{imgSrc:"",isComplete:!1}},mounted:function(){this.imgSrc=this.ossFilter(this.src)},watch:{src:function(t){this.imgSrc=this.ossFilter(t)}},methods:{getData:function(t){},ossFilter:function(t){var e=this;return this.$nextTick(function(){e.$refs.image.onload=function(){e.isComplete=!0}}),!t||t.indexOf("tailorx.cn")<0||!this.width&&!this.height?t:(t+=t.indexOf("?")>-1?"&":"?",t.replace("https://","//"),t.replace("http://","//"),this.isComplete=!1,t+"x-oss-process=image/resize,w_"+this.width+",h_"+this.height+(this.fill?",m_fill":""))}}}},ZOyh:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".tx-order-common-image[data-v-44ba65cc]{text-align:center;position:relative;display:inline-block}.tx-order-common-image img[data-v-44ba65cc]{max-width:100%;max-height:100%}.tx-order-common-image i[data-v-44ba65cc],.tx-order-common-image img[data-v-44ba65cc]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tx-order-common-image i[data-v-44ba65cc]{color:#eaeaea}.tx-order-common-image.no-url[data-v-44ba65cc]{background:none!important}.tx-order-common-image.no-url i[data-v-44ba65cc]{color:#f4f4f4}.tx-order-common-image.isRound[data-v-44ba65cc],.tx-order-common-image.isRound img[data-v-44ba65cc]{border-radius:50%}",""])},a47T:function(t,e,a){"use strict";(function(t){var n=a("04QK");e.a={name:"picture",components:{VImage:n.a},data:function(){var t=this;return{desIndexLoading:!1,addDesLoading:!1,adddesinger:!1,addDesingerParam:{name:"",phone:""},desingerColumns:[{title:"头像",align:"center",render:function(t,e){return t(n.a,{props:{src:e.row.photo,width:70,height:50}})}},{title:"姓名（ID）",align:"center",render:function(t,e){return e.row.name+"("+e.row.id+")"}},{title:"等级",align:"center",key:"level"},{title:"成交量",align:"center",key:"order_count"},{title:"收益金额",align:"center",render:function(t,e){return"¥"+e.row.deal_count}},{title:"每日最大设计量",align:"center",key:"max_design"},{title:"添加时间",align:"center",render:function(e,a){return t.$dateFormat(a.row.createDate,"yyyy-mm-dd")}},{title:"预约量",align:"center",key:"appointmentAmount"},{title:"在职状态",align:"center",key:"status",render:function(t,e){return 1===e.row.status?"在职":0===e.row.status?"已离职":""}},{title:"操作",align:"center",width:"130",render:function(e,a){var n=[],i=a.row;return n.push(t.createBtn(e,"编辑",function(){t.$router.push({path:"/designer/detail",query:{designerId:i.id,type:2}})})),n.push(t.createBtn(e,"删除",function(){t.deleteDesinger(i.id)})),n.push(t.createBtn(e,"查看详情",function(){t.$router.push({path:"/designer/detail",query:{designerId:i.id,type:1}})})),1===i.status?n.push(t.createBtn(e,"离职",function(){t.editDesinger(i.id,i.status)})):0===i.status&&n.push(t.createBtn(e,"在职",function(){t.editDesinger(i.id,i.status)})),e("div",n)}}],desingerData:[],params:{name:"",level:"",status:"",minOrderCount:"",maxOrderCount:"",minAmount:"",maxAmount:"",maxDesign1:"",maxDesign2:"",page:0,pageLength:10},pageTotal:0}},created:function(){this.getInitList()},methods:{getInitList:function(e){var a=this;this.desIndexLoading=!0,t.isNumber(e)&&(this.params.page=e-1),this.ajax.post("/v2/store/designer/findDesignerList",this.params).then(function(t){a.desIndexLoading=!1,a.desingerData=t.data,a.pageTotal=t.totalSize})},handleReset:function(t){this.params=this.$options.data().params,this.getInitList()},changePageSize:function(t){this.params.pageLength=t,this.params.page=0,this.getInitList()},createBtn:function(t,e,a){return t("Button",{props:{type:"text",size:"small"},on:{click:function(){a&&a()}}},e)},editDesinger:function(t,e){var a=this,n=void 0;1===e?(n="确认离职该员工？",e=0):0===e&&(n="确认该员工已在职？",e=1),this.$Modal.confirm({title:"操作提示",content:n,onOk:function(){a.desIndexLoading=!0,a.ajax.post("/v2/store/designer/updateStatus",{designerId:t,status:e}).then(function(t){a.$Message.info("操作成功！"),a.getInitList()})}})},deleteDesinger:function(t){var e=this;this.$Modal.confirm({title:"提示操作",content:"确认删除该设计师？",onOk:function(){e.desIndexLoading=!0,e.ajax.post("/v2/store/designer/deleteDesigner",{designerId:t}).then(function(t){e.$Message.info("操作成功！"),e.getInitList()})}})},addDesingInfo:function(){var e=this;return t.isEmpty(this.addDesingerParam.name)?(this.$Message.warning("请填写添加设计师名字！"),!1):t.isEmpty(this.addDesingerParam.phone)?(this.$Message.warning("请填写联系方式！"),!1):/(1[3-9]\d{9}$)/.test(this.addDesingerParam.phone)?(this.addDesLoading=!0,void this.ajax.post("/v2/store/designer/addDesigner",this.addDesingerParam).then(function(t){e.adddesinger=!1,e.desIndexLoading=!1,e.getInitList()})):(this.$Message.error("手机格式输入有误！"),!1)}}}}).call(e,a("u47Y"))},iZBR:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"desinger-index tx-container"},[a("div",{staticClass:"tx-form-search"},[a("Form",{attrs:{"label-width":96,inline:""}},[a("FormItem",{attrs:{label:"关键字"}},[a("Input",{attrs:{placeholder:"姓名/ID"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"等级"}},[a("Select",{staticStyle:{width:"240px"},attrs:{clearable:""},model:{value:t.params.level,callback:function(e){t.$set(t.params,"level",e)},expression:"params.level"}},[a("Option",{attrs:{value:"高级设计师"}},[t._v("高级设计师")]),t._v(" "),a("Option",{attrs:{value:"中级设计师"}},[t._v("中级设计师")]),t._v(" "),a("Option",{attrs:{value:"初级设计师"}},[t._v("初级设计师")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"成交量"}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.params.minOrderCount,callback:function(e){t.$set(t.params,"minOrderCount",e)},expression:"params.minOrderCount"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("~")]),t._v(" "),a("Col",{attrs:{span:"11"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.params.maxOrderCount,callback:function(e){t.$set(t.params,"maxOrderCount",e)},expression:"params.maxOrderCount"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"收益金额"}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.params.minAmount,callback:function(e){t.$set(t.params,"minAmount",e)},expression:"params.minAmount"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("~")]),t._v(" "),a("Col",{attrs:{span:"11"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.params.maxAmount,callback:function(e){t.$set(t.params,"maxAmount",e)},expression:"params.maxAmount"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"每日最大设计量"}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.params.maxDesign1,callback:function(e){t.$set(t.params,"maxDesign1",e)},expression:"params.maxDesign1"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("~")]),t._v(" "),a("Col",{attrs:{span:"11"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.params.maxDesign2,callback:function(e){t.$set(t.params,"maxDesign2",e)},expression:"params.maxDesign2"}})],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"在职状态"}},[a("Select",{staticStyle:{width:"240px"},attrs:{clearable:""},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}},[a("Option",{attrs:{value:"1"}},[t._v("在职")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("已离职")])],1)],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.getInitList()}}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:function(e){t.handleReset(t.params)}}},[t._v("重置")])],1)],1)],1),t._v(" "),a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("Button",{on:{click:function(e){t.adddesinger=!0}}},[t._v("新增设计师")])],1),t._v(" "),a("Table",{attrs:{columns:t.desingerColumns,data:t.desingerData}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",width:"100%","margin-top":"30px"}},[a("Page",{attrs:{total:t.pageTotal,"show-elevator":"","show-sizer":"","show-total":"",current:t.params.page+1,placement:"top"},on:{"on-change":t.getInitList,"on-page-size-change":t.changePageSize}})],1),t._v(" "),a("Modal",{attrs:{title:"添加设计师",styles:{top:"40px"}},model:{value:t.adddesinger,callback:function(e){t.adddesinger=e},expression:"adddesinger"}},[a("div",{staticStyle:{margin:"0 auto",width:"70%"}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("Icon",{attrs:{type:"person",size:"20"}}),a("span",{staticClass:"add-icon"},[t._v("姓名：")]),t._v(" "),a("div",{staticClass:"add-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addDesingerParam.name,expression:"addDesingerParam.name"}],domProps:{value:t.addDesingerParam.name},on:{input:function(e){e.target.composing||t.$set(t.addDesingerParam,"name",e.target.value)}}})])],1),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("Icon",{attrs:{type:"android-phone-portrait",size:"20"}}),a("span",{staticClass:"add-icon"},[t._v("电话：")]),t._v(" "),a("div",{staticClass:"add-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addDesingerParam.phone,expression:"addDesingerParam.phone"}],domProps:{value:t.addDesingerParam.phone},on:{input:function(e){e.target.composing||t.$set(t.addDesingerParam,"phone",e.target.value)}}})])],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:function(e){t.adddesinger=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.addDesLoading},on:{click:t.addDesingInfo}},[t._v("确定")])],1)]),t._v(" "),t.desIndexLoading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},i=[];n._withStripped=!0;var s={render:n,staticRenderFns:i};e.a=s},k3hG:function(t,e,a){var n=a("EhW+");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("8bSs")("fc0309ac",n,!1)},zQ7w:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tx-order-common-image",class:{"no-url":!t.imgSrc,isRound:t.round},style:{width:0===t.width?"100%":t.width+"px",height:0===t.height?"100%":t.height+"px","background-color":t.backColor}},[t.isComplete?t._e():a("Icon",{style:{"font-size":t.width/2+"px"},attrs:{type:t.icon}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isComplete,expression:"isComplete"}],ref:"image",attrs:{src:t.imgSrc}})],1)},i=[];n._withStripped=!0;var s={render:n,staticRenderFns:i};e.a=s}});