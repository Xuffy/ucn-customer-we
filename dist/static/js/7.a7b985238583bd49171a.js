webpackJsonp([7],{"+Mie":function(t,e,a){var i=a("ZOyh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("8855bcb8",i,!1)},"/Vwx":function(t,e,a){"use strict";(function(t){var i=a("2Dkn"),s=a("7quG"),o=a("04QK");e.a={name:"commonUpload",props:{readonly:{type:Boolean,default:!1},dataList:{type:[Array,String]},valueKey:String,maxNum:{type:Number,default:1},width:{type:Number,default:80},height:{type:Number,default:80}},components:{VImage:o.a,VPreviewImage:s.a},data:function(){return{uploadList:[],uploadParams:{data:{type:1},action:i.a.ENV.api+"/v2/store/file/uploadFiles",headers:{"utouu-open-client-ticket":this.$localStore.get("ticket")}}}},mounted:function(){var e=this,a=t.clone(this.dataList);t.isString(a)&&(a=a?[this.dataList]:[]),this.uploadList=t.map(t.compact(a),function(t){return{url:e.valueKey?t[e.valueKey]:t}})},watch:{dataList:function(e){var a=this;t.isString(e)&&(e=e?[e]:[]),this.uploadList=t.map(t.compact(e),function(t){return{url:a.valueKey?t[a.valueKey]:t}})}},methods:{getData:function(e){return t.map(this.uploadList,function(t){return t.url}).join(e||",")},validate:function(){return t.isEmpty(this.uploadList)?(this.$Message.warning("请上传图片"),!1):!(this.uploadList.length>this.maxNum)||(this.$Message.warning("图片上传异常，请重新上传！"),!1)},uploadDelete:function(e){this.uploadList=t.filter(this.uploadList,function(t){return t.url!==e.url})},uploadBefore:function(){if(this.uploadList.length>=this.maxNum&&1!==this.maxNum)return this.$alert("只能上传"+this.maxNum+"张图片"),!1},uploadProgress:function(){var e=this;1===this.maxNum&&this.$refs.commonUpload.fileList.length>0?this.uploadList=[t.last(this.$refs.commonUpload.fileList)]:t.map(this.$refs.commonUpload.fileList,function(a){if(e.uploadList.length>=e.maxNum&&1!==e.maxNum)return e.$alert("只能上传"+e.maxNum+"张图片"),!1;t.findWhere(e.uploadList,{uid:a.uid})||e.uploadList.push(a)})},uploadSuccess:function(e,a){a.url=e.data[0],this.$refs.commonUpload.fileList=t.filter(this.$refs.commonUpload.fileList,function(t){return"finished"!==t.status})}}}}).call(e,a("u47Y"))},"04QK":function(t,e,a){"use strict";function i(t){n||a("+Mie")}var s=a("ZMJk"),o=a("zQ7w"),n=!1,r=a("/Xao"),l=i,c=r(s.a,o.a,!1,l,"data-v-44ba65cc",null);c.options.__file="src\\components\\common\\image.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=c.exports},"1nkq":function(t,e,a){var i=a("wDhi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("6d4069e5",i,!1)},"1pFO":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tx-order-preview-image"},[t.imageModal?a("div",{staticClass:"image-carousel",on:{click:function(e){t.imageModal=!1}}},[a("div",{staticClass:"carousel-box",on:{click:function(e){e.stopPropagation(),t.imageModal=!0}}},[a("Carousel",{attrs:{loop:"",dots:1===t.dataList.length?"none":"outside",value:t.index,arrow:1===t.dataList.length?"never":"hover"}},t._l(t.dataList,function(e,i){return a("CarouselItem",{key:i},[a("div",{staticClass:"image-box"},[a("img",{staticStyle:{"max-width":"800px"},style:{"max-height":.9*t.windowHeight+"px"},attrs:{src:t.valueKey?e[t.valueKey]:e}})])])}))],1)]):t._e()])},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.a=o},"3+8y":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store-picture tx-container"},[a("div",{staticClass:"tx-form-search",staticStyle:{"padding-bottom":"0"}},[a("Form",{attrs:{"label-width":65,inline:""}},[a("FormItem",{attrs:{label:"设计师"}},[a("Input",{attrs:{placeholder:"输入设计师名称"},model:{value:t.searchForm.designerTerm,callback:function(e){t.$set(t.searchForm,"designerTerm",e)},expression:"searchForm.designerTerm"}})],1),t._v(" "),a("FormItem",{attrs:{label:"关键字"}},[a("Input",{attrs:{placeholder:"请输入关键字搜索"},model:{value:t.searchForm.searchKey,callback:function(e){t.$set(t.searchForm,"searchKey",e)},expression:"searchForm.searchKey"}})],1),t._v(" "),a("FormItem",{attrs:{label:(1===t.searchForm.status?"分配":"发布")+"时间"}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("DatePicker",{attrs:{type:"date",placeholder:"开始时间"},model:{value:t.searchForm.startTime,callback:function(e){t.$set(t.searchForm,"startTime",e)},expression:"searchForm.startTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("\n          -")]),t._v(" "),a("Col",{attrs:{span:"11"}},[a("DatePicker",{attrs:{type:"date",placeholder:"截至时间"},model:{value:t.searchForm.endTime,callback:function(e){t.$set(t.searchForm,"endTime",e)},expression:"searchForm.endTime"}})],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.getDataList()}}},[t._v("查询")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.formReset}},[t._v("重置")])],1)],1)],1),t._v(" "),a("div",{staticClass:"tx-content"},[a("Tabs",{on:{"on-click":t.changeTab}},[a("TabPane",{staticStyle:{padding:"5px"},attrs:{label:"未发布",name:"1"}},[t._l(t.noData.data,function(e){return a("Card",{key:e.id,staticClass:"card-box"},[a("div",{staticClass:"content-top"},[a("v-image",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.imgUrl,width:120,height:180},nativeOn:{click:function(a){t.$refs.previewImage.show(e.imgUrl)}}}),t._v(" "),a("ul",[a("li",[a("span",[t._v("设计师：")]),t._v(" "+t._s(e.designerName))]),t._v(" "),a("li",{staticStyle:{"line-height":"20px"}},[a("span",[t._v("描述：")]),t._v(" "+t._s(e.description))]),t._v(" "),a("li",[a("span",[t._v("标签：")]),t._v(" "),t._l(t.stringSplit(e.tagsName),function(e){return a("Tag",{key:e},[t._v(t._s(e)+"\n                ")])})],2),t._v(" "),a("li",[a("span",[t._v("分配时间：")]),t._v(" "+t._s(e.assignTimeString))])])],1),t._v(" "),a("ul",{staticClass:"content-bottom"},[a("li",{on:{click:function(a){t.showEditModal(e)}}},[t._v("编辑")]),t._v(" "),a("li",{on:{click:function(a){t.publishPicture(e)}}},[t._v("发布")]),t._v(" "),a("li",{on:{click:function(a){t.deletePicture(e)}}},[t._v("删除")])])])}),t._v(" "),a("div",{staticStyle:{"text-align":"right",width:"100%","margin-top":"30px"}},[a("Page",{attrs:{total:t.noData.totalSize,"page-size":t.searchForm.pageLength,"show-total":"",current:(t.noData.page||0)+1,"show-elevator":"",placement:"top"},on:{"on-change":t.getDataList,"on-page-size-change":t.changePageSize}})],1)],2),t._v(" "),a("TabPane",{attrs:{label:"已发布",name:"2"}},[t._l(t.yesData.data,function(e){return a("Card",{key:e.id,staticClass:"card-box"},[a("div",{staticClass:"content-top"},[a("v-image",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.imgUrl,width:120,height:180},nativeOn:{click:function(a){t.$refs.previewImage.show(e.imgUrl)}}}),t._v(" "),a("ul",[a("li",[a("span",[t._v("设计师：")]),t._v(" "+t._s(e.designerName))]),t._v(" "),a("li",{staticStyle:{"line-height":"20px"}},[a("span",[t._v("描述：")]),t._v(" "+t._s(e.description))]),t._v(" "),a("li",[a("span",[t._v("标签：")]),t._v(" "),t._l(t.stringSplit(e.tagsName),function(e){return a("Tag",{key:e},[t._v(t._s(e)+"\n                ")])})],2),t._v(" "),a("li",[a("span",[t._v("发布时间：")]),t._v(" "+t._s(e.publishTimeString))])])],1),t._v(" "),a("ul",{staticClass:"content-bottom"},[a("li",{staticStyle:{width:"49%"},on:{click:function(a){t.revokePicture(e)}}},[t._v("下架")]),t._v(" "),a("li",{staticStyle:{width:"49%"},on:{click:function(a){t.deletePicture(e)}}},[t._v("删除")])])])}),t._v(" "),a("div",{staticStyle:{"text-align":"right",width:"100%","margin-top":"30px"}},[a("Page",{attrs:{total:t.yesData.totalSize,"page-size":t.searchForm.pageLength,"show-total":"",current:(t.yesData.page||0)+1,"show-elevator":"",placement:"top"},on:{"on-change":t.getDataList,"on-page-size-change":t.changePageSize}})],1)],2)],1),t._v(" "),t.noDataLoading?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),t.yesDataLoading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1),t._v(" "),a("v-preview-image",{ref:"previewImage"}),t._v(" "),a("Modal",{staticClass:"model-allot",attrs:{title:"编辑图片",width:720,styles:{top:"50px"},"mask-closable":!1},model:{value:t.modelEdit,callback:function(e){t.modelEdit=e},expression:"modelEdit"}},[t.editDetail.systemTags&&t.editDetail.pictureInfo&&t.editDetail.commonTags?a("div",[a("Form",{attrs:{"label-width":90}},[a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"款式图片："}},[a("v-upload",{ref:"uploadImage",attrs:{width:70,height:90,"data-list":t.editDetail.pictureInfo.imgUrl}})],1),t._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"设计师："}},[t._v("\n          "+t._s(t.editDetail.pictureInfo.designerName)+"\n        ")]),t._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"描述："}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入图片描述"},model:{value:t.editDetail.pictureInfo.description,callback:function(e){t.$set(t.editDetail.pictureInfo,"description",e)},expression:"editDetail.pictureInfo.description"}})],1)],1),t._v(" "),a("v-system-tag",{ref:"systemTag",attrs:{"sex-tag":t.editDetail.sex.id,"style-tag":t.editDetail.style.id,"season-tag":t.editDetail.season.id}}),t._v(" "),a("v-add-tag",{ref:"addTag",attrs:{"data-list":t.editDetail.pictureInfo.tagsCommon}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"ghost"},on:{click:function(e){t.modelEdit=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.editSaveLoading},on:{click:function(e){t.submitEdit()}}},[t._v("保存")]),t._v(" "),a("Button",{attrs:{type:"success",loading:t.publishLoading},on:{click:function(e){t.publishPicture()}}},[t._v("发布")])],1),t._v(" "),t.editDetail.systemTags?t._e():a("Spin",{attrs:{size:"large",fix:""}})],1)],1)},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.a=o},"3MfA":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".common-upload-list[data-v-20d91652]{display:inline-block;text-align:center;border:1px solid transparent;border-radius:4px;overflow:hidden;background:#fff;position:relative;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);margin-right:10px;margin-bottom:10px}.common-upload-list img[data-v-20d91652]{width:100%;height:100%}.common-upload-list-cover[data-v-20d91652]{display:none;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.common-upload-list:hover .common-upload-list-cover[data-v-20d91652]{display:block}.common-upload-list-cover .icon-box[data-v-20d91652]{color:#fff;position:absolute;top:50%;left:25%;line-height:1;cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.common-upload-list-cover .icon-box[data-v-20d91652]:last-child{left:65%}.common-upload-list-cover span.readonly[data-v-20d91652]{width:100%;left:0;text-align:center}",""])},"5H2H":function(t,e,a){var i=a("3MfA");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("0d7755c6",i,!1)},"7quG":function(t,e,a){"use strict";function i(t){n||(a("voQX"),a("WIru"))}var s=a("H3hZ"),o=a("1pFO"),n=!1,r=a("/Xao"),l=i,c=r(s.a,o.a,!1,l,"data-v-7117b9f8",null);c.options.__file="src\\components\\common\\previewImage.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=c.exports},FGw9:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"",""])},FSDW:function(t,e,a){"use strict";var i=function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tx-order-common-upload"},[e.readonly?e._e():i("Upload",{ref:"commonUpload",staticStyle:{display:"inline-block",position:"relative","vertical-align":"top","margin-right":"10px"},style:{width:e.width-2+"px"},attrs:{name:"files",format:["jpg","jpeg","png"],"max-size":2048,action:e.uploadParams.action,data:e.uploadParams.data,headers:e.uploadParams.headers,"show-upload-list":!1,"on-success":e.uploadSuccess,"on-format-error":function(){t.$alert("请上传图片文件！")},"on-exceeded-size":function(){t.$alert("请上传2MB以内的图片！")},"before-upload":e.uploadBefore,"on-progress":e.uploadProgress,multiple:1!==e.maxNum,type:"drag"}},[i("div",{style:{width:e.width-2+"px",height:e.height-2+"px","line-height":e.height-2+"px"}},[i("Icon",{attrs:{type:"images",size:parseInt(.3*e.width)}})],1),e._v(" "),i("span",{staticStyle:{"font-size":"14px",position:"absolute",bottom:"0",left:"0",color:"#999",width:"100%","text-align":"center"}},[e._v("\n      "+e._s(e.uploadList.length)+" / "+e._s(e.maxNum))])]),e._v(" "),e._l(e.uploadList,function(t,a){return i("div",{staticClass:"common-upload-list",style:{width:e.width+"px",height:e.height+"px","font-size":parseInt(.2*(e.width>e.height?e.width:e.height))+"px"}},[t.status&&"finished"!==t.status?i("div",{style:{"line-height":e.height+"px"}},[t.showProgress?i("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()],1):[i("v-image",{attrs:{src:t.url,width:e.width,height:e.height}}),e._v(" "),i("div",{staticClass:"common-upload-list-cover",style:{"line-height":e.height+"px"}},[i("span",{staticClass:"icon-box",class:{readonly:e.readonly},on:{click:function(t){e.$refs.previewImage.show(e.uploadList,"url",a)}}},[i("Icon",{attrs:{type:"ios-eye-outline"}})],1),e._v(" "),i("span",{staticClass:"icon-box",on:{click:function(a){e.uploadDelete(t)}}},[e.readonly?e._e():i("Icon",{attrs:{type:"ios-trash-outline"}})],1)])]],2)}),e._v(" "),i("v-preview-image",{ref:"previewImage"})],2)},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.a=o},GruV:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".tx-order-preview-image .ivu-carousel-track{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""])},H3hZ:function(t,e,a){"use strict";(function(t){e.a={name:"previewImage",props:{},data:function(){return{dataList:[],valueKey:null,index:0,imageModal:!1,windowHeight:window.innerHeight}},created:function(){},methods:{show:function(e,a,i){if(!t.isArray(e)&&!t.isString(e))throw Error("v-preview-image params error");t.isString(e)&&(e=[e]),t.isString(a)?this.valueKey=a:t.isNumber(a)&&(this.index=a),t.isNumber(i)&&(this.index=i),this.dataList=e,this.imageModal=!0}}}}).call(e,a("u47Y"))},HCy0:function(t,e,a){"use strict";function i(t){n||a("1nkq")}var s=a("kWYF"),o=a("OtLT"),n=!1,r=a("/Xao"),l=i,c=r(s.a,o.a,!1,l,"data-v-378415f7",null);c.options.__file="src\\components\\order\\addTag.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=c.exports},KEEv:function(t,e,a){var i=a("FGw9");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("45a51d22",i,!1)},OtLT:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tx-order-add-tag"},[a("Form",{attrs:{"label-width":90}},[t.readonly?t._e():a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"添加标签："}},[a("Input",{staticStyle:{"max-width":"200px","margin-right":"10px"},attrs:{placeholder:"自定义标签"},model:{value:t.addTagName,callback:function(e){t.addTagName=e},expression:"addTagName"}}),t._v(" "),a("Button",{attrs:{type:"ghost",loading:t.addTagLoading},on:{click:function(e){t.addTag()}}},[t._v("添加")])],1),t._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"已选标签："}},t._l(t.selected,function(e){return a("Tag",{key:e.id||e,attrs:{closable:!t.readonly,color:t.readonly?"default":"blue"},on:{"on-close":function(a){t.deleteTag(e)}}},[t._v("\n        "+t._s(e.tagName||e)+"\n      ")])})),t._v(" "),t.readonly?t._e():a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"推荐标签："}},t._l(t.recommendList,function(e){return a("Tag",{key:e.id,attrs:{color:t.isSelected(e)?"blue":"default"},nativeOn:{click:function(a){t.addTag(e)}}},[t._v(t._s(e.tagName)+"\n      ")])}))],1)],1)},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.a=o},QwvC:function(t,e,a){"use strict";(function(t){var i=a("hrEj"),s=a("HCy0"),o=a("7quG"),n=a("Zok3"),r=a("04QK");e.a={name:"picture",components:{VSystemTag:i.a,VAddTag:s.a,VPreviewImage:o.a,VUpload:n.a,VImage:r.a},data:function(){return{editDetail:{},editSaveLoading:!1,publishLoading:!1,modelEdit:!1,noData:{},noDataLoading:!1,yesData:{},yesDataLoading:!1,yesForm:{},noForm:{},searchForm:{designerTerm:"",searchKey:"",startTime:"",endTime:"",status:1,page:0,pageLength:9}}},mounted:function(){this.noForm=t.clone(this.searchForm),this.yesForm=t.clone(this.searchForm),this.yesForm.status=2,this.getDataList()},watch:{searchForm:{handler:function(t){1===t.status?this.noForm=t:this.yesForm=t},deep:!0}},methods:{getDataList:function(e){var a=this;t.isNumber(e)&&(this.searchForm.page=e-1),1===this.searchForm.status?this.noDataLoading=!0:this.yesDataLoading=!0,this.ajax.post("/v3/store/picture/findPictures",this.searchForm).then(function(t){(!t.data||!t.data.length)&&a.$Message.warning("没有查询到相应数据！"),1===a.searchForm.status?a.noData=t:a.yesData=t,a.noDataLoading=!1,a.yesDataLoading=!1}).catch(function(){a.noDataLoading=!1,a.yesDataLoading=!1})},showEditModal:function(e){var a=this;this.modelEdit=!0,this.editDetail={},this.ajax.post("/v3/store/picture/editPicture",{pictureId:e.id}).then(function(e){e.sex=t.findWhere(e.pictureInfo.tagsSystem,{type:1})||{},e.style=t.findWhere(e.pictureInfo.tagsSystem,{type:2})||{},e.season=t.findWhere(e.pictureInfo.tagsSystem,{type:3})||{},e.pictureInfo.tagsCommon=e.pictureInfo.tagsCommon||[],a.editDetail=e})},submitEdit:function(e){var a=this,i=void 0,s=void 0,o=void 0,n={};return this.editDetail.pictureInfo.description?!1!==this.$refs.uploadImage.validate()&&(!1!==this.$refs.systemTag.validate()&&(!1!==this.$refs.addTag.validate()&&(o=this.$refs.uploadImage.getData(),i=this.$refs.systemTag.getData(),s=this.$refs.addTag.getData(),n.pictureId=this.editDetail.pictureInfo.id,n.picUrl=o,n.description=this.editDetail.pictureInfo.description,n.commonTags=s.join("||"),n=t.extend(n,i),this.editSaveLoading=!0,this.ajax.post("/v3/store/picture/savePicture",n).then(function(t){return e?t:(a.getDataList(),a.$Message.success("保存成功"),a.modelEdit=!1,!!e||(a.editSaveLoading=!1,void(a.publishLoading=!1)))}).catch(function(){if(e)return!0;a.editSaveLoading=!1,a.publishLoading=!1})))):(this.$Message.warning("请填写描述！"),!1)},publishPicture:function(t){var e=this,a=void 0,i=void 0;if(this.publishLoading=!0,this.modelEdit){if(!1===(a=this.submitEdit(!0)))return this.publishLoading=!1;a.then(function(){i()})}else this.$Modal.confirm({title:"发布提示",content:"是否确定发布？",onOk:function(){i(t.id)}});i=function(t){e.ajax.post("/v3/store/picture/publishPicture",{pictureId:t||e.editDetail.pictureInfo.id}).then(function(t){e.getDataList(),e.$Message.success("发布成功"),e.modelEdit=!1,e.editSaveLoading=!1,e.publishLoading=!1}).catch(function(){e.editSaveLoading=!1,e.publishLoading=!1})}},deletePicture:function(t){var e=this;this.$Modal.confirm({title:"删除提示",content:"是否确认删除图片？",onOk:function(){e.ajax.post("/v3/store/picture/deletePicture",{pictureId:t.id}).then(function(t){e.getDataList(),e.$Message.success("删除成功！")})}})},revokePicture:function(t){var e=this;this.$Modal.confirm({title:"下架提示",content:"是否确认下架图片？",onOk:function(){e.ajax.post("/v3/store/picture/unShelvePicture",{pictureId:t.id}).then(function(t){e.getDataList(),e.$Message.success("下架成功！")})}})},changeTab:function(t){"1"===t?(this.searchForm=this.noForm,this.searchForm.status=1):(this.searchForm=this.yesForm,this.searchForm.status=2),this.getDataList()},changePageSize:function(t){this.searchForm.pageLength=t,this.searchForm.page=0,this.getDataList()},formReset:function(){var t=this.searchForm.status;this.searchForm=this.$options.data().searchForm,this.searchForm.status=t,this.getDataList()},stringSplit:function(e){return t.isString(e)?e.split(","):[]}}}}).call(e,a("u47Y"))},WIru:function(t,e,a){var i=a("GruV");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("f61e895a",i,!1)},ZMJk:function(t,e,a){"use strict";e.a={name:"commonImage",props:{src:{type:String},width:{type:Number,default:0},height:{type:Number,default:0},round:{type:Boolean,default:!1},icon:{type:String,default:"image"},backColor:{type:String,default:"#F4F4F4"},fill:{type:Boolean,default:!0}},data:function(){return{imgSrc:"",isComplete:!1}},mounted:function(){this.imgSrc=this.ossFilter(this.src)},watch:{src:function(t){this.imgSrc=this.ossFilter(t)}},methods:{getData:function(t){},ossFilter:function(t){var e=this;return this.$nextTick(function(){e.$refs.image.onload=function(){e.isComplete=!0}}),!t||t.indexOf("tailorx.cn")<0||!this.width&&!this.height?t:(t+=t.indexOf("?")>-1?"&":"?",t.replace("https://","//"),t.replace("http://","//"),this.isComplete=!1,t+"x-oss-process=image/resize,w_"+this.width+",h_"+this.height+(this.fill?",m_fill":""))}}}},ZOyh:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".tx-order-common-image[data-v-44ba65cc]{text-align:center;position:relative;display:inline-block}.tx-order-common-image img[data-v-44ba65cc]{max-width:100%;max-height:100%}.tx-order-common-image i[data-v-44ba65cc],.tx-order-common-image img[data-v-44ba65cc]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tx-order-common-image i[data-v-44ba65cc]{color:#eaeaea}.tx-order-common-image.no-url[data-v-44ba65cc]{background:none!important}.tx-order-common-image.no-url i[data-v-44ba65cc]{color:#f4f4f4}.tx-order-common-image.isRound[data-v-44ba65cc],.tx-order-common-image.isRound img[data-v-44ba65cc]{border-radius:50%}",""])},Zok3:function(t,e,a){"use strict";function i(t){n||a("5H2H")}var s=a("/Vwx"),o=a("FSDW"),n=!1,r=a("/Xao"),l=i,c=r(s.a,o.a,!1,l,"data-v-20d91652",null);c.options.__file="src\\components\\common\\upload.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=c.exports},alSk:function(t,e,a){"use strict";function i(t){n||a("vl+e")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("QwvC"),o=a("3+8y"),n=!1,r=a("/Xao"),l=i,c=r(s.a,o.a,!1,l,"data-v-110fb370",null);c.options.__file="src\\views\\picture\\index.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.default=c.exports},bSdk:function(t,e,a){"use strict";e.a={name:"systemTag",props:{readonly:{type:Boolean,default:!1},sexTag:String,styleTag:String,seasonTag:String},data:function(){return{tagList:{},sexTagId:this.sexTag||"",styleTagId:this.styleTag||"",seasonTagId:this.seasonTag||""}},mounted:function(){var t=this;this.$getTags(1).then(function(e){t.tagList=e})},watch:{sexTag:function(t){this.sexTagId=t||""},styleTag:function(t){this.styleTagId=t||""},seasonTag:function(t){this.seasonTagId=t||""}},methods:{getData:function(){return{sexTagId:this.sexTagId,styleTagId:this.styleTagId,seasonTagId:this.seasonTagId}},validate:function(){return this.sexTagId?this.styleTagId?!!this.seasonTagId||(this.$Message.warning("请选择季节标签"),!1):(this.$Message.warning("请选择款式标签"),!1):(this.$Message.warning("请选择性别标签"),!1)}}}},hrEj:function(t,e,a){"use strict";function i(t){n||a("KEEv")}var s=a("bSdk"),o=a("nNgm"),n=!1,r=a("/Xao"),l=i,c=r(s.a,o.a,!1,l,"data-v-d9adf4c6",null);c.options.__file="src\\components\\order\\systemTag.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=c.exports},kWYF:function(t,e,a){"use strict";(function(t){e.a={name:"addTag",props:{readonly:{type:Boolean,default:!1},dataList:{type:Array,default:[]},maxNum:{type:Number,default:5}},data:function(){return{selected:t.compact(this.dataList||[]),addTagName:"",recommendList:null,addTagLoading:!1}},mounted:function(){var t=this;this.$getTags(2).then(function(e){t.recommendList=e})},watch:{dataList:function(e,a){if(t.isEqual(e,a))return this.selected;this.selected=e||[]}},methods:{getData:function(e){return t.map(this.selected,function(t){switch(e){case 2:return t.tagName||t;case 3:return t.id||t}return t})},validate:function(){return!t.isEmpty(this.selected)||(this.$Message.warning("请选择自定义标签"),!1)},isSelected:function(e){return!!t.find(this.selected,function(a){return t.isString(a)?e.tagName===a:e.id===a.id})},deleteTag:function(e){this.selected=t.filter(this.selected,function(a){return t.isString(a)?a!==e:a.id!==e.id})},addTag:function(e){var a=this;return!t.isEmpty(this.selected)&&this.selected.length>=this.maxNum?this.$Message.warning("最多选择"+this.maxNum+"个标签！"):e?t.findWhere(this.selected,{id:e.id})?this.$Message.warning("标签已选择！"):this.selected.push(e):this.addTagName?t.findWhere(this.selected,{tagName:this.addTagName})||-1!==t.indexOf(this.selected,this.addTagName)?this.$Message.warning("标签已存在！"):(this.addTagLoading=!0,void this.ajax.post("/v3/store/tag/searchOrAddCommonTag",{tagName:this.addTagName}).then(function(t){a.selected.push(t)}).finally(function(){a.addTagLoading=!1})):this.$Message.warning("请输入自定义标签名称！")}}}}).call(e,a("u47Y"))},nNgm:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tagList.sex||t.tagList.style||t.tagList.season?a("div",{staticClass:"tx-order-system-tag"},[a("Form",{attrs:{"label-width":90}},[a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"性别标签："}},[t.readonly?a("Tag",{attrs:{color:"default"}},[t._v(t._s(t.sexTagId))]):t._e(),t._v(" "),t.readonly?t._e():a("RadioGroup",{model:{value:t.sexTagId,callback:function(e){t.sexTagId=e},expression:"sexTagId"}},t._l(t.tagList.sex,function(e,i){return a("Radio",{key:e.id,staticStyle:{"margin-right":"20px"},attrs:{label:e.id}},[t._v("\n          "+t._s(e.tagName)+"\n        ")])}))],1),t._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"款式标签："}},[t.readonly?a("Tag",{attrs:{color:"default"}},[t._v(t._s(t.styleTagId))]):t._e(),t._v(" "),t.readonly?t._e():a("RadioGroup",{model:{value:t.styleTagId,callback:function(e){t.styleTagId=e},expression:"styleTagId"}},t._l(t.tagList.style,function(e){return a("Radio",{key:e.id,staticStyle:{"margin-right":"20px"},attrs:{label:e.id}},[t._v(t._s(e.tagName)+"\n        ")])}))],1),t._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"季节标签："}},[t.readonly?a("Tag",{attrs:{color:"default"}},[t._v(t._s(t.seasonTagId))]):t._e(),t._v(" "),t.readonly?t._e():a("RadioGroup",{model:{value:t.seasonTagId,callback:function(e){t.seasonTagId=e},expression:"seasonTagId"}},t._l(t.tagList.season,function(e){return a("Radio",{key:e.id,staticStyle:{"margin-right":"20px"},attrs:{label:e.id}},[t._v(t._s(e.tagName)+"\n        ")])}))],1)],1)],1):t._e()},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.a=o},"vl+e":function(t,e,a){var i=a("w+G7");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("2f706eef",i,!1)},voQX:function(t,e,a){var i=a("xTDf");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("6b2b77d2",i,!1)},"w+G7":function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".store-picture .card-box[data-v-110fb370]{width:460px;height:280px;display:inline-block;margin-right:10px;margin-bottom:12px}.card-box .content-top[data-v-110fb370]{height:180px}.card-box .content-top ul[data-v-110fb370]{display:inline-block;vertical-align:middle;max-width:290px;margin-left:10px}.card-box .content-top ul li[data-v-110fb370]{font-size:12px;position:relative;padding-left:65px;line-height:24px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}.card-box .content-top ul li span[data-v-110fb370]{position:absolute;left:0;top:0;width:60px;text-align:right}.card-box .content-bottom[data-v-110fb370]{position:absolute;bottom:0;width:420px;border-top:1px solid #eae5e5}.card-box .content-bottom li[data-v-110fb370]{display:inline-block;font-size:18px;cursor:pointer;width:32%;text-align:center;line-height:60px;color:#495060}.card-box .content-bottom li[data-v-110fb370]:hover{color:#57a3f3}",""])},wDhi:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,"",""])},xTDf:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".tx-order-preview-image .image-carousel[data-v-7117b9f8]{position:fixed;width:100%;height:100%;top:0;left:0;z-index:9999;text-align:center;background-color:rgba(0,0,0,.7)}.tx-order-preview-image .carousel-box[data-v-7117b9f8]{max-width:800px;width:800px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""])},zQ7w:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tx-order-common-image",class:{"no-url":!t.imgSrc,isRound:t.round},style:{width:0===t.width?"100%":t.width+"px",height:0===t.height?"100%":t.height+"px","background-color":t.backColor}},[t.isComplete?t._e():a("Icon",{style:{"font-size":t.width/2+"px"},attrs:{type:t.icon}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isComplete,expression:"isComplete"}],ref:"image",attrs:{src:t.imgSrc}})],1)},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.a=o}});