webpackJsonp([16],{"+Mie":function(t,e,a){var i=a("ZOyh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("8855bcb8",i,!1)},"04QK":function(t,e,a){"use strict";function i(t){o||a("+Mie")}var s=a("ZMJk"),l=a("zQ7w"),o=!1,r=a("/Xao"),n=i,c=r(s.a,l.a,!1,n,"data-v-44ba65cc",null);c.options.__file="src\\components\\common\\image.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=c.exports},FVYs:function(t,e,a){var i=a("ILbO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("49ae55e6",i,!1)},ILbO:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".templet-cardList .card[data-v-895ee60e]{width:310px;height:352px;background-color:#fcfcfc;display:inline-block;margin-right:10px;margin-bottom:12px;overflow:hidden}.templet-cardList .coverPhoto[data-v-895ee60e]{width:100%;height:200px;margin-bottom:10px}.templet-cardList .coverPhoto img[data-v-895ee60e]{width:100%;height:100%}.templet-cardList li[data-v-895ee60e]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-bottom:10px}.cardEdit[data-v-895ee60e]{color:#2d8cf0;cursor:pointer}.cadDetail-left[data-v-895ee60e]{width:840px;height:595px;display:inline-block;overflow:hidden}.cadDetail-left .carousel-box[data-v-895ee60e],.carousel-box .carousel img[data-v-895ee60e]{width:100%;height:100%}.cadDetail-right[data-v-895ee60e]{width:312px;display:inline-block;height:590px;overflow:hidden}.sizeItem[data-v-895ee60e]{display:inline-block;-webkit-box-flex:1;-ms-flex:1;flex:1;width:280px;height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:break-word;word-break:break-all}",""])},IxNe:function(t,e,a){"use strict";function i(t){o||(a("FVYs"),a("W7N/"))}Object.defineProperty(e,"__esModule",{value:!0});var s=a("Yc8h"),l=a("i4SK"),o=!1,r=a("/Xao"),n=i,c=r(s.a,l.a,!1,n,"data-v-895ee60e",null);c.options.__file="src\\views\\templet\\index.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.default=c.exports},"W7N/":function(t,e,a){var i=a("yMld");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("8bSs")("59dc5c64",i,!1)},Yc8h:function(t,e,a){"use strict";(function(t){var i=a("04QK");e.a={name:"picture",components:{VImage:i.a},data:function(){return{templetLoading:!1,templetDetailLoading:!1,tagData:[],templeData:{},templetSearch:{keyWord:"",page:0,pageLength:10,systemTagSexId:"",systemTagStyleId:"",systemTagSeasonId:"",startTime:"",endTime:""},value1:0,cadDetail:!1,templetDetailData:{},descriptExplain:"",ownType:!1}},filters:{picSrc:function(t){var e="";return e=t.split(","),e[0]}},mounted:function(){var e=this.$sessionStore.get("templet_index_search");this.getSearchTagList(),t.isEmpty(e)||(this.templetSearch=e),this.getTemplateList()},methods:{getSearchTagList:function(){var t=this;this.ajax.get("/v3/store/tag/getSearchTagList").then(function(e){t.tagData.sex=e.filter(function(t){return 1==t.tagType}),t.tagData.style=e.filter(function(t){return 2==t.tagType}),t.tagData.season=e.filter(function(t){return 3==t.tagType}),t.templetLoading=!1})},getTemplateList:function(e){var a=this;t.isNumber(e)&&(this.templetSearch.page=e-1),this.templetLoading=!0,this.ajax.post("/v3/store/plateType/list",this.templetSearch).then(function(t){a.templeData=t,a.$sessionStore.set("templet_index_search",a.templetSearch),a.templetLoading=!1}).catch(function(){a.templetLoading=!1})},changePageSize:function(t){this.templetSearch.pageLength=t,this.templetSearch.page=0,this.getTemplateList()},handleReset:function(t){this.templetSearch=this.$options.data().templetSearch,this.getTemplateList()},download:function(t){window.open(t)},templetDetail:function(t,e){var a=this;this.templetDetailLoading=!0,this.cadDetail=!0,this.ownType=e,this.ajax.post("/v3/store/plateType/getPlateTypeInfo",{id:t}).then(function(t){a.templetDetailData=t,a.descriptExplain=a.$htmlToText(t.description),a.templetDetailLoading=!1}).catch(function(){a.templetDetailLoading=!1})},templetListAdd:function(){this.$router.push({path:"/templet/edit",query:{type:1}})},templetEdit:function(t){this.$router.push({path:"/templet/edit",query:{id:t,type:2}})}}}}).call(e,a("u47Y"))},ZMJk:function(t,e,a){"use strict";e.a={name:"commonImage",props:{src:{type:String},width:{type:Number,default:0},height:{type:Number,default:0},round:{type:Boolean,default:!1},icon:{type:String,default:"image"},backColor:{type:String,default:"#F4F4F4"},fill:{type:Boolean,default:!0}},data:function(){return{imgSrc:"",isComplete:!1}},mounted:function(){this.imgSrc=this.ossFilter(this.src)},watch:{src:function(t){this.imgSrc=this.ossFilter(t)}},methods:{getData:function(t){},ossFilter:function(t){var e=this;return this.$nextTick(function(){e.$refs.image.onload=function(){e.isComplete=!0}}),!t||t.indexOf("tailorx.cn")<0||!this.width&&!this.height?t:(t+=t.indexOf("?")>-1?"&":"?",t.replace("https://","//"),t.replace("http://","//"),this.isComplete=!1,t+"x-oss-process=image/resize,w_"+this.width+",h_"+this.height+(this.fill?",m_fill":""))}}}},ZOyh:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".tx-order-common-image[data-v-44ba65cc]{text-align:center;position:relative;display:inline-block}.tx-order-common-image img[data-v-44ba65cc]{max-width:100%;max-height:100%}.tx-order-common-image i[data-v-44ba65cc],.tx-order-common-image img[data-v-44ba65cc]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tx-order-common-image i[data-v-44ba65cc]{color:#eaeaea}.tx-order-common-image.no-url[data-v-44ba65cc]{background:none!important}.tx-order-common-image.no-url i[data-v-44ba65cc]{color:#f4f4f4}.tx-order-common-image.isRound[data-v-44ba65cc],.tx-order-common-image.isRound img[data-v-44ba65cc]{border-radius:50%}",""])},i4SK:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"templet-index tx-container"},[a("div",{staticClass:"tx-form-search"},[a("Form",{ref:"templetSearch",attrs:{model:t.templetSearch,"label-width":65,inline:""}},[a("FormItem",{attrs:{label:"关键字"}},[a("Input",{attrs:{placeholder:"搜索标签、设计师"},model:{value:t.templetSearch.keyWord,callback:function(e){t.$set(t.templetSearch,"keyWord",e)},expression:"templetSearch.keyWord"}})],1),t._v(" "),a("FormItem",{attrs:{label:"性别标签"}},[a("Select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.templetSearch.systemTagSexId,callback:function(e){t.$set(t.templetSearch,"systemTagSexId",e)},expression:"templetSearch.systemTagSexId"}},t._l(t.tagData.sex,function(e){return a("Option",{key:e.tagId,attrs:{value:e.tagId}},[t._v(t._s(e.tagName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"款式标签"}},[a("Select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.templetSearch.systemTagStyleId,callback:function(e){t.$set(t.templetSearch,"systemTagStyleId",e)},expression:"templetSearch.systemTagStyleId"}},t._l(t.tagData.style,function(e){return a("Option",{key:e.tagId,attrs:{value:e.tagId}},[t._v(t._s(e.tagName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"季节标签"}},[a("Select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.templetSearch.systemTagSeasonId,callback:function(e){t.$set(t.templetSearch,"systemTagSeasonId",e)},expression:"templetSearch.systemTagSeasonId"}},t._l(t.tagData.season,function(e){return a("Option",{key:e.tagId,attrs:{value:e.tagId}},[t._v(t._s(e.tagName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"创建时间"}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("DatePicker",{attrs:{type:"date",placeholder:"开始时间"},model:{value:t.templetSearch.startTime,callback:function(e){t.$set(t.templetSearch,"startTime",e)},expression:"templetSearch.startTime"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("~")]),t._v(" "),a("Col",{attrs:{span:"11"}},[a("DatePicker",{attrs:{type:"date",placeholder:"结束时间"},model:{value:t.templetSearch.endTime,callback:function(e){t.$set(t.templetSearch,"endTime",e)},expression:"templetSearch.endTime"}})],1)],1)],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.getTemplateList}},[t._v("查询")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(e){t.handleReset(t.templetSearch)}}},[t._v("重置")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{margin:"15px auto"}},[a("Button",{on:{click:t.templetListAdd}},[t._v("添加版式")])],1),t._v(" "),a("div",{staticClass:"templet-cardList"},t._l(t.templeData.data,function(e,i){return a("Card",{key:e.id,staticClass:"card"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"social-designernews-outline"}}),t._v("\n        "+t._s(e.designerName)+"\n      ")],1),t._v(" "),e.owner?a("span",{staticClass:"cardEdit",attrs:{slot:"extra"},on:{click:function(a){t.templetEdit(e.id)}},slot:"extra"},[a("Icon",{attrs:{type:"edit"}}),t._v("编辑\n      ")],1):t._e(),t._v(" "),a("div",{staticClass:"coverPhoto"},[e.picUrls?a("v-image",{attrs:{src:e.picUrls.split(",")[0],width:275,height:200},nativeOn:{click:function(a){t.templetDetail(e.id,e.owner)}}}):t._e()],1),t._v(" "),a("ul",[a("li",[e.plateTypeBokes.length>0?a("span",{staticStyle:{display:"inline-block",width:"170px"}},[t._v(t._s(e.plateTypeBokes[0].sizeStr)+"码")]):t._e(),t._v(" "),a("span",[t._v(t._s(e.createTimeStr))])]),t._v(" "),e.plateTypeBokes.length>0?a("li",[a("div",{staticStyle:{"font-size":"12px",display:"flex","flex-direction":"row","flex-wrap":"nowrap"}},[a("a",{attrs:{href:"javascript:;"}},[a("span",{staticClass:"sizeItem",on:{click:function(a){t.download(e.plateTypeBokes[0].url)}}},[t._v(t._s(e.plateTypeBokes[0].fileName))])])])]):t._e()])])})),t._v(" "),a("div",{staticStyle:{"text-align":"right",width:"100%","margin-top":"30px"}},[a("Page",{attrs:{total:t.templeData.totalSize,"show-elevator":"","show-sizer":"","show-total":"",current:t.templetSearch.page+1,placement:"top"},on:{"on-change":t.getTemplateList,"on-page-size-change":t.changePageSize}})],1),t._v(" "),a("Modal",{attrs:{title:"详情",styles:{maxWidth:"1250px",minWidth:"1190px",top:"20px"}},model:{value:t.cadDetail,callback:function(e){t.cadDetail=e},expression:"cadDetail"}},[a("div",{staticClass:"cadDetail-left"},[t.templetDetailData&&t.cadDetail?a("Carousel",{staticClass:"carousel-box",model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.templetDetailData.plateTypePicList,function(e){return e.id?a("CarouselItem",{key:e.id},[a("div",{staticClass:"carousel"},[a("v-image",{attrs:{src:e.url,width:840,height:595}})],1)]):t._e()})):t._e()],1),t._v(" "),a("div",{staticClass:"cadDetail-right"},[t.ownType?a("span",{staticClass:"cardEdit",attrs:{slot:"extra"},on:{click:function(e){t.templetEdit(t.templetDetailData.id)}},slot:"extra"},[a("Icon",{attrs:{type:"edit"}}),t._v("编辑\n      ")],1):t._e(),t._v(" "),t.templetDetailData?a("Form",{attrs:{"label-width":65,model:t.templetDetailData}},[a("FormItem",{attrs:{label:"设计师："}},[t._v(t._s(t.templetDetailData.designerName))]),t._v(" "),a("FormItem",{attrs:{label:"标签："}},[t._l(t.templetDetailData.tagSystems,function(e){return a("span",[a("Tag",{attrs:{type:"border",color:"yellow"}},[t._v(t._s(e.tagName))])],1)}),t._v(" "),t._l(t.templetDetailData.tagCommons,function(e){return a("span",[a("Tag",{attrs:{type:"border",color:"yellow"}},[t._v(t._s(e.tagName))])],1)})],2),t._v(" "),a("FormItem",{attrs:{label:"时间："}},[t._v(t._s(t.templetDetailData.createTimeStr))]),t._v(" "),a("FormItem",{attrs:{label:"版式图："}},t._l(t.templetDetailData.plateTypeBokes,function(e,i){return a("span",{key:e.id},[t._v(t._s(e.sizeStr)+"码"),a("a",{attrs:{href:"javascript:;"}},[a("span",{on:{click:function(a){t.download(e.url)}}},[t._v(t._s(e.fileName))])]),a("br")])})),t._v(" "),a("FormItem",{attrs:{label:"说明："}},[a("Input",{staticClass:"desInput",attrs:{disabled:"",type:"textarea",autosize:{minRows:1,maxRows:14}},model:{value:t.descriptExplain,callback:function(e){t.descriptExplain=e},expression:"descriptExplain"}})],1)],1):t._e()],1),t._v(" "),t.templetDetailLoading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1),t._v(" "),t.templetLoading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},s=[];i._withStripped=!0;var l={render:i,staticRenderFns:s};e.a=l},yMld:function(t,e,a){e=t.exports=a("BkJT")(!1),e.push([t.i,".cadDetail-right .desInput textarea{font-size:12px}.cadDetail-right .desInput textarea[disabled]{color:#495060;background-color:#fff}",""])},zQ7w:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tx-order-common-image",class:{"no-url":!t.imgSrc,isRound:t.round},style:{width:0===t.width?"100%":t.width+"px",height:0===t.height?"100%":t.height+"px","background-color":t.backColor}},[t.isComplete?t._e():a("Icon",{style:{"font-size":t.width/2+"px"},attrs:{type:t.icon}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isComplete,expression:"isComplete"}],ref:"image",attrs:{src:t.imgSrc}})],1)},s=[];i._withStripped=!0;var l={render:i,staticRenderFns:s};e.a=l}});